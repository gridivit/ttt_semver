branches:
- main
debug: true
plugins:
- "@semantic-release/commit-analyzer"
- "@semantic-release/release-notes-generator"
- "semantic-release-python":
    setupPy: "./pyproject.toml"
    pypiPublish: false

verifyConditions: "@semantic-release/github"
publish: "@semantic-release/github"
analyzeCommits:
  releaseRules:
  - type: fix
    release: patch
  - type: perf
    release: patch
  - type: refactor
    release: patch
  - type: build
    release: patch
  - type: ci
    release: patch
  - type: feat
    release: minor
  - type: feature
    release: minor
  - type: breaking
    release: major
  - type: chore
    release: patch

generateNotes:
  - path: '@semantic-release/release-notes-generator'
    writerOpts:
      groupBy: 'type'
      commitGroupsSort: 'title'
      commitsSort: 'header'
    linkCompare: true
    linkReferences: true
    presetConfig:
      types:  # looks like it only works with 'conventionalcommits' preset
        - type: 'build'
          section: 'ğŸ¦Š CI/CD'
          hidden: false
        - type: 'chore'
          section: 'Other'
          hidden: false
        - type: 'ci'
          section: 'ğŸ¦Š CI/CD'
          hidden: false
        - type: 'docs'
          section: 'ğŸ“” Docs'
          hidden: false
        - type: 'example'
          section: 'ğŸ“ Examples'
          hidden: false
        - type: 'feat'
          section: 'ğŸš€ Features'
          hidden: false
        - type: 'fix'
          section: 'ğŸ›  Fixes'
          hidden: false
        - type: 'perf'
          section: 'â© Performance'
        - type: 'refactor'
          section: ':scissors: Refactor'
          hidden: false
        - type: 'revert'
          section: 'ğŸ™…â€â™‚ï¸ Reverts'
        - type: 'style'
          section: 'ğŸ’ˆ Style'
        - type: 'test'
          section: 'ğŸ§ª Tests'
          hidden: false